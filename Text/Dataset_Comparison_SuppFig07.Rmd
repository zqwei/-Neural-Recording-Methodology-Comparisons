```{r, echo=FALSE}
figIndex <- 7
```

---
title: `r paste("Supplementary Figure ", figIndex, sep='')`
author: "Ziqiang Wei"
date: '`r Sys.Date()`'
output:
  html_document:
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, results='asis')
```

### Supplementary Figure `r figIndex`a --Trade-off holds true for a random choice of subpopulation
```{r}
source('Dataset_Comparison_Funcs.R')
ImageDir <- 'CollectedUnitsPCA/CollectedSubUnitsPCA_'
includeVerticalMD(ImageDir, fileType = 'svg')
```

### Supplementary Figure `r figIndex`b --Trade-off holds true for normalization of raw neuronal activity
```{r}
source('Dataset_Comparison_Funcs.R')
ImageDir <- 'CollectedUnitsPCA/CollectedUnitsNormPCA_'
includeHtmlMD(ImageDir)
```

### Supplementary Figure `r figIndex`c --Trade-off holds true at different depths
```{r}
source('Dataset_Comparison_Funcs.R')
Datasets <- c('ShuffleConfounding_Spikes', 'ShuffleConfounding_Ca_Slow_Short_Delay_Virus', 'ShuffleConfounding_Ca_Slow_Short_Delay')
ImageDir <- 'ConfoundingFactorPCA/CollectedUnitsPCADepth_'
includeVerticalMD(ImageDir, Datasets)
```

### Supplementary Figure `r figIndex`d -- Trade-off holds true at different AP-ML locations
```{r}
apmlDatasets <- c('Pop_SShuffleConfounding_Ca_Slow_Long_Delay', 'Sub_SShuffleConfounding_Ca_Slow_Long_Delay')
apmlDatasetsName <- c('Whole population', 'Sub-population')
ImageDir <- 'ConfoundingFactorPCA/CollectedUnitsPCA_'
source('Dataset_Comparison_Funcs.R')
includeHtmlMD(ImageDir, Datasets = apmlDatasets, DatasetsName=apmlDatasetsName)
```

### Supplementary Figure `r figIndex`e -- Trade-off holds true across different animals
```{r}
anmDatasets = c('ShuffleConfounding_Spikes', 'ShuffleConfounding_Ca_Slow_Short_Delay_Virus')
anmDatasetsName = c('Spike', 'AAV: GP4.12')
ImageDir = 'ConfoundingFactorPCA/CollectedUnitsPCAAnm_'
source('Dataset_Comparison_Funcs.R')
includeVerticalMD(ImageDir, Datasets = anmDatasets, DatasetsName=anmDatasetsName)
```

### Supplementary Figure `r figIndex`f -- PC traces
```{r}
source('Dataset_Comparison_Funcs.R')
ImageDir <- 'CollectedUnitsPCA/CollectedUnitsPCATrace_'
includeVerticalMD(ImageDir)
```

### Supplementary Figure `r figIndex`g -- PC traces using spike to calcium model


### Supplementary Figure `r figIndex`h -- calcium to spike model (linear model)

### Supplementary Figure `r figIndex`i -- calcium to spike model (non-linear model)

